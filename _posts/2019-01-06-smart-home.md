---
layout: post
title: Умный дом на базе Home Assistant и Raspberry PI
feature-img: "assets/img/smart-home.jpg"
subtitle: "Серия статей по установке и настройке умного дома"
tags: [smart-home, home-assistant, raspberry]
---

Морозным вечером я решил провести уборку в самых дальних ящиках шкафа и наткнулся на коробку которую не открывал уже более 5 лет.

Внутри лежала Arduino Uno шилд с экраном и кнопками, ультразвуковой дальномер и кейс с радиодеталями хренового уровня важности. Захлестнула волна ностальгии и через мгновение была заказана Raspberry PI 3B+ с корпусом и активным охлаждением. 

Зачем? Ну по названию статьи все очевидно. Я решил воплотить давнюю мечту по настройке "умного" дома.

Я давно читал канал одной милой дамы на тему интернета вещей: https://t.me/theyforcedme
Там она часто пишет о том, как реверсила протокол китайского умного чайника, подключала самокат и все в таком духе. Потому к тому моменту я уже примерно представлял предстоящие мне задачи. 

В небольшой серии статей я пройду от базовой установки системы Home Assistant, ее особенностям, подключению датчиков через Arduino и планах на будущее. 

А пока могу показать что у меня получилось за 5 дней ковыряния в этом всем. 

![IMG_20190104_183007](https://i.imgur.com/ZGwTRNG.jpg)
_(К слову вечер на фотографии продлился с 20:00 до 06:00 утра и в тот день на работе в голове у меня крутились только мысли о не работающем датчике по i2c. Но об этом позже)_

Из того что у меня уже было на момент заказа "Малинки":
- Xiaomi Vacuum Cleaner (первой версии без влажной уборки)
- Xiaomi Smart Home Suite
- Arduino UNO rev.3
- сбитый график сна

Первая версия "умного дома" была коалиция всех имеющихся у меня штук от xiaomi. Потом к ним подключилась PlayStation 4, а ещё позже ардуинка с датчиками и потом ещё датчики, MPD сервер и стало все это выглядеть так:

![IMG_20190104_124432](https://i.imgur.com/yg9HBmo.png)

Сам же умный дом на физическом уровне представляет собой клубок проводов и две коробочки: 
![20190106_015213](https://i.imgur.com/ZAdA3x7.jpg)
_(уже приобретена коробка для компактной упаковке всего этого)_


В следующих статьях цикла "Smart Home из говна и палок" вас ждёт:
1) Увлекательный экскурс в установку и базы Home Assistant
2) Настройка Home Assistant и подключение PS4
3) Подключение к Arduino и работа с датчиками. 
Ну и может ещё что вспомню. 

Все это планирую писать минимум раз в неделю. Постараюсь. 

А сейчас мне предстоит разобраться с wifi платой и барометром...